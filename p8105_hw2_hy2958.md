p8105_hw2_hy2958
================

``` r
library(tidyverse)
```

    ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
    ## ✔ dplyr     1.1.4     ✔ readr     2.1.5
    ## ✔ forcats   1.0.0     ✔ stringr   1.5.1
    ## ✔ ggplot2   3.5.2     ✔ tibble    3.3.0
    ## ✔ lubridate 1.9.4     ✔ tidyr     1.3.1
    ## ✔ purrr     1.1.0     
    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()
    ## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors

``` r
library(readxl)
```

problem 1.1

``` r
pols = 
  read_csv("./data/fivethirtyeight_datasets/pols-month.csv") %>% 
  janitor::clean_names() %>% 
  separate(mon, into = c("year", "month", "day"), sep='-', convert = TRUE)  %>% 
  mutate (month = case_when(
    month == 1 ~ "January",
    month == 2 ~ "February",
    month == 3 ~ "March",
    month == 4 ~ "April",
    month == 5 ~ "May",
    month == 6 ~ "June",
    month == 7 ~ "July",
    month == 8 ~ "August",
    month == 9 ~ "September",
    month == 10 ~ "October",
    month == 11 ~ "November",
    month == 12 ~ "December")) %>% 
  mutate (president = case_when (
    prez_gop == 1 ~ "republican",
    prez_dem == 1 ~ "democratic")) %>% 
  select (-prez_gop, -prez_dem, -day)
```

    ## Rows: 822 Columns: 9
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

problem 1.2

``` r
snp = 
  read_csv("./data/fivethirtyeight_datasets/snp.csv") %>% 
  janitor::clean_names() %>% 
  separate(date, into = c("month", "day", "year"), sep='/', convert = TRUE)  %>% 
  mutate (year=year+2000) %>%
  mutate (year=case_when (year>2025 ~ year-100, year<=2025 ~ year)) %>%
  select (-day) %>% 
  mutate (month = case_when(
    month == 1 ~ "January",
    month == 2 ~ "February",
    month == 3 ~ "March",
    month == 4 ~ "April",
    month == 5 ~ "May",
    month == 6 ~ "June",
    month == 7 ~ "July",
    month == 8 ~ "August",
    month == 9 ~ "September",
    month == 10 ~ "October",
    month == 11 ~ "November",
    month == 12 ~ "December")) %>% 
  relocate(year)
```

    ## Rows: 787 Columns: 2
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (1): date
    ## dbl (1): close
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

problem 1.3

``` r
unemployment = 
  read_csv("./data/fivethirtyeight_datasets/unemployment.csv") %>% 
  janitor::clean_names() %>%
  pivot_longer(
    jan:dec,
    names_to = "month", 
    values_to = "unemployment_pec") %>% 
    mutate (month = case_when(
    month == 'jan' ~ "January",
    month == 'feb' ~ "February",
    month == 'mar' ~ "March",
    month == 'apr' ~ "April",
    month == 'may' ~ "May",
    month == 'jun' ~ "June",
    month == 'jul' ~ "July",
    month == 'aug' ~ "August",
    month == 'sep' ~ "September",
    month == 'oct' ~ "October",
    month == 'nov' ~ "November",
    month == 'dec' ~ "December"))
```

    ## Rows: 68 Columns: 13
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl (13): Year, Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

merge

``` r
data=left_join (pols, snp, by = c ("year", "month"))
data_final=left_join (data, unemployment,  by = c ("year", "month"))
```

The data pols contains the variables related to the number of national
politicians who are democratic or republican at given time from 1947 to
2015. It contains time, the number of republican senators,
representatives and governors and democratic senators, representatives
and governors. It also include whether the presidents are democratic or
republican at the specific time.

The data snp include time from 1950 to 2015 and Standard & Poor’s stock
market index (S&P) which often used as a representative measure of stock
market as a whole. The index range from 17.05 to 2107.39 with the mean
of 474.89

``` r
summary(snp)
```

    ##       year         month               close        
    ##  Min.   :1950   Length:787         Min.   :  17.05  
    ##  1st Qu.:1966   Class :character   1st Qu.:  83.73  
    ##  Median :1982   Mode  :character   Median : 138.53  
    ##  Mean   :1982                      Mean   : 474.89  
    ##  3rd Qu.:1999                      3rd Qu.: 941.80  
    ##  Max.   :2015                      Max.   :2107.39

The data unemployment contains the time and rate of unemployment in the
specific month from 1948-2015 which also indicates the economic status.
The unemployment rate range from 2.5 to 10.8 with mean of 5.83

``` r
summary(unemployment)
```

    ##       year         month           unemployment_pec
    ##  Min.   :1948   Length:816         Min.   : 2.50   
    ##  1st Qu.:1965   Class :character   1st Qu.: 4.70   
    ##  Median :1982   Mode  :character   Median : 5.60   
    ##  Mean   :1982                      Mean   : 5.83   
    ##  3rd Qu.:1998                      3rd Qu.: 6.90   
    ##  Max.   :2015                      Max.   :10.80   
    ##                                    NA's   :6

The result data (822 observations) include the status of political party
from 1947 to 2015 and the economic status each month such as
unemployment rate, stock market index which can be used to discover the
relation between political party and economic status.

Problem 2

``` r
mrtrashweel = read_excel("./data/Trash.xlsx", na = c("", "NA", "N/A"), sheet = 1, skip = 1) %>% 
  janitor::clean_names() %>%
  filter(!is.na(dumpster)) %>%
  mutate(
    sports_balls = as.integer(round(sports_balls))
  ) %>% 
 select (-x15,-x16) %>%
 mutate (trashweel="MrTrashweel")  %>%
  relocate(year, month, date) %>%
  mutate(year = as.integer(year))
```

    ## New names:
    ## • `` -> `...15`
    ## • `` -> `...16`

``` r
ProfessorTrashWheel = read_excel("./data/Trash.xlsx", na = c("", "NA", "N/A"), sheet = 2, skip = 1) %>% 
  janitor::clean_names() %>%
  filter(!is.na(dumpster)) %>%
  mutate (trashweel="ProfessorTrashWheel") %>%
  relocate(year, month, date)  %>%
  mutate(year = as.integer(year))
```

``` r
Gwynnda = read_excel("./data/Trash.xlsx", na = c("", "NA", "N/A"), sheet = 4, skip = 1) %>% 
  janitor::clean_names() %>%
  filter(!is.na(dumpster)) %>%
  mutate (trashweel="Gwynnda") %>%
  relocate(year, month, date) %>%
  mutate(year = as.integer(year))
```

merge three sheets

``` r
trashtidy = 
  bind_rows(mrtrashweel, ProfessorTrashWheel, Gwynnda) %>% 
  janitor::clean_names() %>% 
  relocate(trashweel)
```
